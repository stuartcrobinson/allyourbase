{"version":3,"sources":["../src/errors.ts","../src/client.ts"],"sourcesContent":["/** Error thrown when the AYB API returns a non-2xx response. */\nexport class AYBError extends Error {\n  constructor(\n    public readonly status: number,\n    message: string,\n  ) {\n    super(message);\n    this.name = \"AYBError\";\n  }\n}\n","import { AYBError } from \"./errors\";\nimport type {\n  AuthResponse,\n  ClientOptions,\n  GetParams,\n  ListParams,\n  ListResponse,\n  RealtimeEvent,\n  StorageObject,\n  User,\n} from \"./types\";\n\n/**\n * AllYourBase JavaScript/TypeScript client.\n *\n * @example\n * ```ts\n * import { AYBClient } from \"@allyourbase/js\";\n *\n * const ayb = new AYBClient(\"http://localhost:8090\");\n *\n * // List records\n * const posts = await ayb.records.list(\"posts\", { filter: \"published=true\", sort: \"-created_at\" });\n *\n * // Auth\n * await ayb.auth.login(\"user@example.com\", \"password\");\n * const me = await ayb.auth.me();\n * ```\n */\nexport class AYBClient {\n  private baseURL: string;\n  private _fetch: typeof globalThis.fetch;\n  private _token: string | null = null;\n  private _refreshToken: string | null = null;\n\n  readonly auth: AuthClient;\n  readonly records: RecordsClient;\n  readonly storage: StorageClient;\n  readonly realtime: RealtimeClient;\n\n  constructor(baseURL: string, options?: ClientOptions) {\n    // Strip trailing slash.\n    this.baseURL = baseURL.replace(/\\/+$/, \"\");\n    this._fetch = options?.fetch ?? globalThis.fetch.bind(globalThis);\n\n    this.auth = new AuthClient(this);\n    this.records = new RecordsClient(this);\n    this.storage = new StorageClient(this);\n    this.realtime = new RealtimeClient(this);\n  }\n\n  /** Current access token, if authenticated. */\n  get token(): string | null {\n    return this._token;\n  }\n\n  /** Current refresh token, if authenticated. */\n  get refreshToken(): string | null {\n    return this._refreshToken;\n  }\n\n  /** Manually set auth tokens (e.g. from storage). */\n  setTokens(token: string, refreshToken: string): void {\n    this._token = token;\n    this._refreshToken = refreshToken;\n  }\n\n  /** Clear stored auth tokens. */\n  clearTokens(): void {\n    this._token = null;\n    this._refreshToken = null;\n  }\n\n  /** @internal */\n  async request<T>(\n    path: string,\n    init?: RequestInit & { skipAuth?: boolean },\n  ): Promise<T> {\n    const headers: Record<string, string> = {\n      ...(init?.headers as Record<string, string>),\n    };\n    if (!init?.skipAuth && this._token) {\n      headers[\"Authorization\"] = `Bearer ${this._token}`;\n    }\n    const url = `${this.baseURL}${path}`;\n    const res = await this._fetch(url, { ...init, headers });\n    if (!res.ok) {\n      const body = await res.json().catch(() => ({ message: res.statusText }));\n      throw new AYBError(res.status, body.message || res.statusText);\n    }\n    // Handle 204 No Content.\n    if (res.status === 204) return undefined as T;\n    return res.json();\n  }\n\n  /** @internal */\n  setTokensInternal(token: string, refreshToken: string): void {\n    this._token = token;\n    this._refreshToken = refreshToken;\n  }\n\n  /** @internal */\n  getBaseURL(): string {\n    return this.baseURL;\n  }\n}\n\nclass AuthClient {\n  constructor(private client: AYBClient) {}\n\n  /** Register a new user account. */\n  async register(email: string, password: string): Promise<AuthResponse> {\n    const res = await this.client.request<AuthResponse>(\"/api/auth/register\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, password }),\n    });\n    this.client.setTokensInternal(res.token, res.refreshToken);\n    return res;\n  }\n\n  /** Log in with email and password. */\n  async login(email: string, password: string): Promise<AuthResponse> {\n    const res = await this.client.request<AuthResponse>(\"/api/auth/login\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, password }),\n    });\n    this.client.setTokensInternal(res.token, res.refreshToken);\n    return res;\n  }\n\n  /** Refresh the access token using the stored refresh token. */\n  async refresh(): Promise<AuthResponse> {\n    const res = await this.client.request<AuthResponse>(\"/api/auth/refresh\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ refreshToken: this.client.refreshToken }),\n    });\n    this.client.setTokensInternal(res.token, res.refreshToken);\n    return res;\n  }\n\n  /** Log out (revoke the refresh token). */\n  async logout(): Promise<void> {\n    await this.client.request<void>(\"/api/auth/logout\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ refreshToken: this.client.refreshToken }),\n    });\n    this.client.clearTokens();\n  }\n\n  /** Get the current authenticated user. */\n  async me(): Promise<User> {\n    return this.client.request<User>(\"/api/auth/me\");\n  }\n\n  /** Request a password reset email. */\n  async requestPasswordReset(email: string): Promise<void> {\n    await this.client.request<void>(\"/api/auth/password-reset\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email }),\n    });\n  }\n\n  /** Confirm a password reset with a token. */\n  async confirmPasswordReset(token: string, password: string): Promise<void> {\n    await this.client.request<void>(\"/api/auth/password-reset/confirm\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ token, password }),\n    });\n  }\n\n  /** Verify an email address with a token. */\n  async verifyEmail(token: string): Promise<void> {\n    await this.client.request<void>(\"/api/auth/verify\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ token }),\n    });\n  }\n\n  /** Resend the email verification (requires auth). */\n  async resendVerification(): Promise<void> {\n    await this.client.request<void>(\"/api/auth/verify/resend\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n  }\n}\n\nclass RecordsClient {\n  constructor(private client: AYBClient) {}\n\n  /** List records in a collection with optional filtering, sorting, and pagination. */\n  async list<T = Record<string, unknown>>(\n    collection: string,\n    params?: ListParams,\n  ): Promise<ListResponse<T>> {\n    const qs = new URLSearchParams();\n    if (params?.page) qs.set(\"page\", String(params.page));\n    if (params?.perPage) qs.set(\"perPage\", String(params.perPage));\n    if (params?.sort) qs.set(\"sort\", params.sort);\n    if (params?.filter) qs.set(\"filter\", params.filter);\n    if (params?.fields) qs.set(\"fields\", params.fields);\n    if (params?.expand) qs.set(\"expand\", params.expand);\n    if (params?.skipTotal) qs.set(\"skipTotal\", \"true\");\n    const suffix = qs.toString() ? `?${qs}` : \"\";\n    return this.client.request(`/api/collections/${collection}${suffix}`);\n  }\n\n  /** Get a single record by primary key. */\n  async get<T = Record<string, unknown>>(\n    collection: string,\n    id: string,\n    params?: GetParams,\n  ): Promise<T> {\n    const qs = new URLSearchParams();\n    if (params?.fields) qs.set(\"fields\", params.fields);\n    if (params?.expand) qs.set(\"expand\", params.expand);\n    const suffix = qs.toString() ? `?${qs}` : \"\";\n    return this.client.request(`/api/collections/${collection}/${id}${suffix}`);\n  }\n\n  /** Create a new record. */\n  async create<T = Record<string, unknown>>(\n    collection: string,\n    data: Record<string, unknown>,\n  ): Promise<T> {\n    return this.client.request(`/api/collections/${collection}`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(data),\n    });\n  }\n\n  /** Update an existing record (partial update). */\n  async update<T = Record<string, unknown>>(\n    collection: string,\n    id: string,\n    data: Record<string, unknown>,\n  ): Promise<T> {\n    return this.client.request(`/api/collections/${collection}/${id}`, {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(data),\n    });\n  }\n\n  /** Delete a record by primary key. */\n  async delete(collection: string, id: string): Promise<void> {\n    return this.client.request(`/api/collections/${collection}/${id}`, {\n      method: \"DELETE\",\n    });\n  }\n}\n\nclass StorageClient {\n  constructor(private client: AYBClient) {}\n\n  /** Upload a file to a bucket. */\n  async upload(\n    bucket: string,\n    file: Blob | File,\n    name?: string,\n  ): Promise<StorageObject> {\n    const form = new FormData();\n    form.append(\"file\", file, name ?? (file instanceof File ? file.name : \"upload\"));\n    // Don't set Content-Type â€” the browser/runtime will set it with the boundary.\n    return this.client.request(`/api/storage/${bucket}`, {\n      method: \"POST\",\n      body: form,\n    });\n  }\n\n  /** Get a download URL for a file. */\n  downloadURL(bucket: string, name: string): string {\n    return `${this.client.getBaseURL()}/api/storage/${bucket}/${name}`;\n  }\n\n  /** Delete a file from a bucket. */\n  async delete(bucket: string, name: string): Promise<void> {\n    return this.client.request(`/api/storage/${bucket}/${name}`, {\n      method: \"DELETE\",\n    });\n  }\n\n  /** List files in a bucket. */\n  async list(\n    bucket: string,\n    params?: { prefix?: string; limit?: number; offset?: number },\n  ): Promise<{ items: StorageObject[]; totalItems: number }> {\n    const qs = new URLSearchParams();\n    if (params?.prefix) qs.set(\"prefix\", params.prefix);\n    if (params?.limit) qs.set(\"limit\", String(params.limit));\n    if (params?.offset) qs.set(\"offset\", String(params.offset));\n    const suffix = qs.toString() ? `?${qs}` : \"\";\n    return this.client.request(`/api/storage/${bucket}${suffix}`);\n  }\n\n  /** Get a signed URL for time-limited access to a file. */\n  async getSignedURL(\n    bucket: string,\n    name: string,\n    expiresIn?: number,\n  ): Promise<{ url: string }> {\n    return this.client.request(`/api/storage/${bucket}/${name}/sign`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ expiresIn: expiresIn ?? 3600 }),\n    });\n  }\n}\n\nclass RealtimeClient {\n  constructor(private client: AYBClient) {}\n\n  /**\n   * Subscribe to realtime events for the given tables.\n   * Returns an unsubscribe function.\n   *\n   * @example\n   * ```ts\n   * const unsub = ayb.realtime.subscribe([\"posts\", \"comments\"], (event) => {\n   *   console.log(event.action, event.table, event.record);\n   * });\n   * // Later: unsub();\n   * ```\n   */\n  subscribe(\n    tables: string[],\n    callback: (event: RealtimeEvent) => void,\n  ): () => void {\n    const params = new URLSearchParams({ tables: tables.join(\",\") });\n    if (this.client.token) {\n      params.set(\"token\", this.client.token);\n    }\n    const url = `${this.client.getBaseURL()}/api/realtime?${params}`;\n    const es = new EventSource(url);\n\n    es.onmessage = (e) => {\n      try {\n        const event = JSON.parse(e.data) as RealtimeEvent;\n        callback(event);\n      } catch {\n        // Ignore parse errors for heartbeat/ping messages.\n      }\n    };\n\n    return () => es.close();\n  }\n}\n"],"mappings":"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","names":[]}